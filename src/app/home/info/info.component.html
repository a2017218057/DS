<nz-table #nzTable
[nzAjaxData]="_dataSet"
[nzShowSizeChanger]="true"
[nzLoading]="_loading"
[nzTotal]="_total"
[(nzPageIndex)]="_current"
(nzPageIndexChange)="refreshData()"
[(nzPageSize)]="_pageSize"
(nzPageSizeChange)="refreshData(true)"
[nzSize]="default">
<thead nz-thead>
<tr >
<th nz-th [nzWidth]="'65px'"><span>图片</span></th>
<th nz-th><span>名称</span></th>
<th nz-th><span>时间</span></th>
<th nz-th><span>类型</span></th>
<th nz-th><span>地点</span></th>
<th nz-th><span>上传时间</span></th>
<th nz-th><span>修改时间</span></th>
</tr>
</thead>
<tbody nz-tbody>
<tr nz-tbody-tr *ngFor="let data of nzTable.data" >
<td nz-td style="height:61px">
  <img src="http://localhost:8080/{{data.storagepicture}}"  />
</td>
<td nz-td>{{data.name}}</td>
<td nz-td>{{data.dynasty}}</td>
<td nz-td>{{data.type}}</td>
<td nz-td>{{data.place}}</td>
<td nz-td>{{data.loadtime}}</td>
<td nz-td>{{data.updatetime}}</td>
<td>
    <button nz-button [nzType]="'primary'"  [nzShape]="'circle'" (click)="showModal(data,'a')">
        <i class="anticon anticon-edit"></i>
      </button>
      <button nz-button [nzType]="'default'" [nzShape]="'circle'" (click)="showConfirm(data)">
        <i class="anticon anticon-delete"></i>
      </button>
      <button nz-button [nzType]="'default'" [nzShape]="'circle'" (click)="showModal(data,'b')">
          <i class="anticon anticon-search"></i>
        </button>
<button nz-button [nzType]="'default'"   (click)="showModal(data)" [nzShape]="'circle'" >
<i class="anticon anticon-question-circle-o"></i>
</button>
</td>
</tr>
</tbody>
</nz-table>
<nz-modal [nzVisible]="isVisible" [nzWidth]="700" [nzTitle]="modalTitle" [nzContent]="modalContent" [nzFooter]="modalFooter" (nzOnCancel)="handleCancel($event)" >
<ng-template #modalTitle>
详情
</ng-template>
<ng-template #modalContent>
<!--{{json.stringify(model_data)}}-->
<div *ngIf="model_data&&j === 'b'">
    <i class="anticon anticon-check-circle-o" style="font-size: 16px;"></i>
    
    <table align="center" >
        <tr style="height:150px">
            <td >
                <img style="height:200px" align="middle" src="http://localhost:8080/{{model_data.storagepicture}}"  />
            </td>
            
          </tr>
          
      <tr style="height:50px">
        <td>
          <div>名称：{{model_data.name}}</div>
        </td>
      </tr>
      <tr style="height:50px">
          <td>
            <div>朝代：{{model_data.dynasty}}</div>
          </td>
        </tr >
        <tr style="height:50px">
            <td>
              <div>类型：{{model_data.type}}</div>
            </td>
          </tr>
          <tr style="height:50px">
              <td>
                <div>上传时间：{{model_data.loadtime}}</div>
              </td>
            </tr>
            <tr style="height:50px">
                <td>
                  <div>操作用户：{{model_data.id}}</div>
                </td>
              </tr>
    </table>
  
    
</div>

<div *ngIf="update_data&&j==='a'">
<app-updateinfo [currentData]="update_data"></app-updateinfo>
</div>

</ng-template>
<ng-template #modalFooter >
<button nz-button [nzType]="'default'" [nzSize]="'large'" (click)="handleCancel($event)">
返 回
</button>
<button nz-button [nzType]="'primary'" [nzSize]="'large'" (click)="handleOk($event)" [nzLoading]="isConfirmLoading">
确 认
</button>
</ng-template>
</nz-modal>
